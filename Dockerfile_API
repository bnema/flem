FROM node:lts-alpine

# Create app directory
WORKDIR /app

# Copy package.json and package-lock.json
COPY package*.json .

RUN npm install

# Copy dist folder
COPY dist/ .

# Define some ENV Vars
ENV PORT=3333 \
  IS_DOCKER=true

CMD ["npm", "run", "start_api"]

EXPOSE ${PORT}:80